{% extends "skel.html" %}
{% block title %}Search{% endblock %}
{% block head_scripts %}
<link rel="stylesheet" href="//cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
{% endblock %}
{% block article %}
<section>
    <h3>Search</h3>
    <p>
        Please enter a keyword to look for.
        Keyword can be a log ID or something that could be found in a log title or content.
    </p>
</section>
<section>
    <form class="w-100">
        <fieldset>
            <label>Keyword:</label>
            <input type="text" name="keyword" placeholder="7416fc02-58be-..." required autofocus>
            <button type="submit">Submit</button>
        </fieldset>
    </form>
</section>
{% if search %}
<section>
    <h4>Search result for: <code>{{ request.args.get('keyword') }}</code></h4><br>
    {% import "macros.html" as macros %}
    {{ macros.show_log_posts_table(log_posts) }}
</section>
{% endif %}
{% endblock %}

{% block body_scripts %}
<script src="//cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script>
    $(document).ready(function () {
        $('#logTable').DataTable({
            order: [[0, "desc"]],
            bFilter: false,
        });
    });
</script>
{% endblock %}